<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="Tic_Tac_Toe.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Tic-Tac-Toe" Width="488" Height="729"
        Style="{StaticResource ModernWindow}"
        WindowStartupLocation="CenterScreen"
        Closing="Window_Closing">

    <Grid>
        <!-- Background decoration -->
        <Ellipse Width="300" Height="300" 
                 HorizontalAlignment="Right" VerticalAlignment="Top"
                 Margin="0,-100,-100,0" Opacity="0.05">
            <Ellipse.Fill>
                <RadialGradientBrush>
                    <GradientStop Color="#00d9ff" Offset="0"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Ellipse.Fill>
        </Ellipse>
        <Ellipse Width="200" Height="200" 
                 HorizontalAlignment="Left" VerticalAlignment="Bottom"
                 Margin="-50,-50,0,0" Opacity="0.05">
            <Ellipse.Fill>
                <RadialGradientBrush>
                    <GradientStop Color="#e94560" Offset="0"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Ellipse.Fill>
        </Ellipse>

        <StackPanel Margin="25">
            <!-- Header -->
            <TextBlock Text="{DynamicResource AppTitle}" 
                       Style="{StaticResource TitleText}"
                       Margin="0,10,0,5"/>
            <TextBlock Text="{DynamicResource MainSubtitle}" 
                       Style="{StaticResource SubtitleText}"
                       Margin="0,0,0,20"/>

            <!-- Status Card -->
            <Border Style="{StaticResource CardPanel}" Margin="0,0,0,20">
                <TextBlock Text="{Binding StatusText}" 
                           Style="{StaticResource StatusText}"/>
            </Border>

            <!-- Game Board -->
            <Border Style="{StaticResource CardPanel}" Padding="15" Margin="0,0,0,20">
                <UniformGrid Rows="3" Columns="3">
                    <Button Content="{Binding Board[0]}" Command="{Binding CellClickCommand}" 
                            CommandParameter="0" Style="{StaticResource GameCellButton}" 
                            Height="90" Margin="4"/>
                    <Button Content="{Binding Board[1]}" Command="{Binding CellClickCommand}" 
                            CommandParameter="1" Style="{StaticResource GameCellButton}" 
                            Height="90" Margin="4"/>
                    <Button Content="{Binding Board[2]}" Command="{Binding CellClickCommand}" 
                            CommandParameter="2" Style="{StaticResource GameCellButton}" 
                            Height="90" Margin="4"/>

                    <Button Content="{Binding Board[3]}" Command="{Binding CellClickCommand}" 
                            CommandParameter="3" Style="{StaticResource GameCellButton}" 
                            Height="90" Margin="4"/>
                    <Button Content="{Binding Board[4]}" Command="{Binding CellClickCommand}" 
                            CommandParameter="4" Style="{StaticResource GameCellButton}" 
                            Height="90" Margin="4"/>
                    <Button Content="{Binding Board[5]}" Command="{Binding CellClickCommand}" 
                            CommandParameter="5" Style="{StaticResource GameCellButton}" 
                            Height="90" Margin="4"/>

                    <Button Content="{Binding Board[6]}" Command="{Binding CellClickCommand}" 
                            CommandParameter="6" Style="{StaticResource GameCellButton}" 
                            Height="90" Margin="4"/>
                    <Button Content="{Binding Board[7]}" Command="{Binding CellClickCommand}" 
                            CommandParameter="7" Style="{StaticResource GameCellButton}" 
                            Height="90" Margin="4"/>
                    <Button Content="{Binding Board[8]}" Command="{Binding CellClickCommand}" 
                            CommandParameter="8" Style="{StaticResource GameCellButton}" 
                            Height="90" Margin="4"/>
                </UniformGrid>
            </Border>

            <!-- Action Buttons -->
            <Grid Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0" 
                        Content="{DynamicResource Restart}" 
                        Command="{Binding RestartCommand}" 
                        Style="{StaticResource ModernButton}"/>

                <Button Grid.Column="2" 
                        Content="{DynamicResource Statistics}" 
                        Click="Statistics_Click"
                        Style="{StaticResource ModernButton}"/>
            </Grid>

            <Grid Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0"
                        Content="{DynamicResource Settings}" 
                        Click="Settings_Click"
                        Style="{StaticResource ModernButton}"/>

                <Button Grid.Column="2"
                        Content="{DynamicResource BackToMenu}" 
                        Click="BackToMenu_Click"
                        Style="{StaticResource AccentButton}"/>
            </Grid>
        </StackPanel>
    </Grid>
</Window>